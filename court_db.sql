-- phpMyAdmin SQL Dump
-- version 4.1.14
-- http://www.phpmyadmin.net
--
-- Host: 127.0.0.1
-- Generation Time: 22 أكتوبر 2025 الساعة 16:34
-- Server version: 5.6.17
-- PHP Version: 5.5.12

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;

--
-- Database: `court_db`
--

-- --------------------------------------------------------

--
-- بنية الجدول `admin_users`
--

CREATE TABLE IF NOT EXISTS `admin_users` (
  `admin_id` int(11) NOT NULL AUTO_INCREMENT,
  `username` varchar(50) COLLATE utf8mb4_unicode_ci NOT NULL,
  `password_hash` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `full_name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `email` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `is_active` tinyint(1) DEFAULT '1',
  `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`admin_id`),
  UNIQUE KEY `username` (`username`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci AUTO_INCREMENT=3 ;

--
-- إرجاع أو استيراد بيانات الجدول `admin_users`
--

INSERT INTO `admin_users` (`admin_id`, `username`, `password_hash`, `full_name`, `email`, `is_active`, `created_at`, `updated_at`) VALUES
(1, 'admin', '$2y$10$92IXUNpkjO0rOQ5byMi.Ye4oKoEa3Ro9llC/.og/at2.uheWG/igi', 'مدير النظام', 'admin@court.gov.sa', 1, '2025-06-28 10:46:00', '2025-06-28 10:46:00'),
(2, 'aa', '123', 'محمود القوسي', 'as@gmail.com', 1, '2025-06-26 21:00:00', '2025-09-29 18:17:06');

-- --------------------------------------------------------

--
-- بنية الجدول `cases`
--

CREATE TABLE IF NOT EXISTS `cases` (
  `case_id` int(11) NOT NULL AUTO_INCREMENT,
  `case_number` varchar(50) COLLATE utf8mb4_unicode_ci NOT NULL,
  `case_type` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL,
  `filing_date` date NOT NULL,
  `description` text COLLATE utf8mb4_unicode_ci,
  `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `pdf_file` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  PRIMARY KEY (`case_id`),
  UNIQUE KEY `case_number` (`case_number`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci AUTO_INCREMENT=96 ;

--
-- إرجاع أو استيراد بيانات الجدول `cases`
--

INSERT INTO `cases` (`case_id`, `case_number`, `case_type`, `filing_date`, `description`, `created_at`, `updated_at`, `pdf_file`) VALUES
(1, '1001/2024', 'قضية مدنية', '2024-01-15', 'نزاع تجاري بين شركتين', '2025-06-28 10:46:00', '2025-06-28 10:46:00', NULL),
(2, '1002/2024', 'قضية جنائية', '2024-02-10', 'قضية سرقة', '2025-06-28 10:46:00', '2025-06-28 10:46:00', NULL),
(3, '1003/2024', 'قضية عمالية', '2024-03-05', 'نزاع حول الأجور', '2025-06-28 10:46:00', '2025-06-28 10:46:00', NULL),
(4, '1004/2024', 'قضية أسرية', '2024-04-20', 'قضية طلاق وحضانة', '2025-06-28 10:46:00', '2025-06-28 10:46:00', NULL),
(5, '1005/2024', 'قضية مدنية', '2024-05-12', 'نزاع حول عقد إيجار', '2025-06-28 10:46:00', '2025-06-28 10:46:00', NULL),
(66, '1/2025', 'قضية مدنية', '2025-06-22', 'قضية تم اضافتها من عبدالله الاصبحي', '2025-06-28 13:09:28', '2025-06-28 13:09:28', NULL),
(67, '2/2025', 'قضية جنائية', '2025-06-28', 'قضيييية', '2025-06-28 15:38:15', '2025-06-28 15:38:15', NULL),
(68, '3/2025', 'قضية مدنية', '2025-06-28', 'قضية جديدة', '2025-06-28 18:28:51', '2025-06-28 18:28:51', NULL),
(72, '5/2025', 'قضية مدنية', '2025-07-01', '555555555', '2025-07-01 15:55:27', '2025-07-01 15:55:27', NULL),
(75, '10/2025', 'قضية مدنية', '2025-07-01', 'تاااللل', '2025-07-01 15:57:53', '2025-07-01 15:57:53', NULL),
(76, '20/2025', 'قضية مدنية', '2025-06-21', 'قضية بعد التعديل', '2025-07-02 00:03:40', '2025-07-02 00:03:40', NULL),
(77, '2000/2026', 'قضية مدنية', '2025-07-23', 'شفعة', '2025-07-02 17:51:10', '2025-07-02 17:51:10', NULL),
(78, '1515/2024', 'قضية جنائية', '2025-07-08', 'شخصي', '2025-07-02 18:54:15', '2025-07-02 18:54:15', NULL),
(84, '5151/2024', 'قضية جنائية', '2025-07-08', 'شخصي', '2025-07-02 18:56:46', '2025-07-02 18:56:46', NULL),
(85, '51551/2024', 'قضية جنائية', '2025-07-08', 'شخصي', '2025-07-02 18:57:48', '2025-07-02 18:57:48', NULL),
(86, '666/2030', 'قضية تجارية', '2025-07-27', 'احتيال', '2025-07-02 19:02:10', '2025-07-02 19:02:10', NULL),
(87, '0000/2080', 'قضية تجارية', '2025-07-25', 'احتيال', '2025-07-02 19:07:22', '2025-07-02 19:07:22', NULL),
(88, '8005/2025', 'قضية أسرية', '2025-06-30', 'طلاق', '2025-07-02 20:10:27', '2025-07-02 20:10:27', NULL),
(89, '200/2020', 'قضية مدنية', '2025-09-29', 'منعقد', '2025-09-27 13:21:30', '2025-09-27 13:21:30', NULL),
(90, '797/2025', 'قضية إدارية', '2025-10-07', 'شخصي', '2025-09-29 18:19:27', '2025-09-29 18:19:27', NULL),
(91, '20000/2025', 'قضية عمالية', '2025-10-09', 'جسيمه', '2025-09-29 19:28:57', '2025-09-29 19:28:57', NULL),
(92, '10051/2024', 'قضية تجارية', '2025-09-17', 'lkk', '2025-09-29 19:55:12', '2025-09-29 19:55:12', NULL),
(93, '', '', '0000-00-00', '', '2025-09-29 20:00:30', '2025-09-29 20:00:30', NULL),
(95, '2222/2233', 'قضية عمالية', '2025-10-27', 'SDSD', '2025-10-09 20:00:49', '2025-10-09 20:00:49', NULL);

-- --------------------------------------------------------

--
-- بنية الجدول `case_litigants`
--

CREATE TABLE IF NOT EXISTS `case_litigants` (
  `case_id` int(11) NOT NULL,
  `litigant_id` int(11) NOT NULL,
  `role` varchar(50) COLLATE utf8mb4_unicode_ci NOT NULL,
  `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`case_id`,`litigant_id`),
  KEY `litigant_id` (`litigant_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- إرجاع أو استيراد بيانات الجدول `case_litigants`
--

INSERT INTO `case_litigants` (`case_id`, `litigant_id`, `role`, `created_at`) VALUES
(1, 2, 'مدعى عليه', '2025-06-28 10:46:00'),
(2, 3, 'متهم', '2025-06-28 10:46:00'),
(3, 4, 'مدعي', '2025-06-28 10:46:00'),
(3, 5, 'مدعى عليه', '2025-06-28 10:46:00'),
(4, 4, 'مدعى عليه', '2025-06-28 10:46:00'),
(5, 2, 'مدعي', '2025-06-28 10:46:00'),
(5, 3, 'مدعى عليه', '2025-06-28 10:46:00'),
(72, 21, 'مدعي', '2025-07-02 18:23:50'),
(72, 22, 'مدعى عليه', '2025-07-02 18:34:32'),
(86, 23, 'خبير', '2025-07-02 19:03:47'),
(86, 24, 'خبير', '2025-07-02 19:06:23'),
(86, 26, 'متهم', '2025-07-02 19:19:26'),
(87, 25, 'متهم', '2025-07-02 19:08:18'),
(88, 27, 'مدعي', '2025-07-02 20:20:45'),
(88, 28, 'مدعى عليه', '2025-07-02 20:37:20'),
(89, 29, 'مدعي', '2025-09-27 13:22:44'),
(89, 30, 'مدعى عليه', '2025-09-27 13:23:48'),
(91, 40, 'مدعي', '2025-09-29 19:35:11');

-- --------------------------------------------------------

--
-- بنية الجدول `litigants`
--

CREATE TABLE IF NOT EXISTS `litigants` (
  `litigant_id` int(11) NOT NULL AUTO_INCREMENT,
  `full_name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `id_number` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `address` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `phone_number` varchar(20) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `case_id` int(10) NOT NULL,
  PRIMARY KEY (`litigant_id`),
  UNIQUE KEY `id_number` (`id_number`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci AUTO_INCREMENT=41 ;

--
-- إرجاع أو استيراد بيانات الجدول `litigants`
--

INSERT INTO `litigants` (`litigant_id`, `full_name`, `id_number`, `address`, `phone_number`, `created_at`, `updated_at`, `case_id`) VALUES
(2, 'فاطمة سعد الدين', '2345678901', 'دار سلم ', '0512345678', '2025-06-28 10:46:00', '2025-06-28 16:32:02', 0),
(3, 'محمد عبدالله الأحمد', '3456789012', 'ش خولان', '0523456789', '2025-06-28 10:46:00', '2025-06-28 16:32:17', 0),
(4, 'نورا خالد العتيبي', '4567890123', 'اليمن صنعاء', '0534567890', '2025-06-28 10:46:00', '2025-07-02 00:05:14', 0),
(5, 'سعد عبدالعزيز القحطاني', '5678901234', 'حزيز', '0545678901', '2025-06-28 10:46:00', '2025-07-02 00:04:57', 0),
(6, 'محمود رفيق القوسي', '01110057527', 'حزيز شارع الدكاترة', '774929556', '2025-07-02 14:47:46', '2025-07-02 14:47:46', 0),
(7, 'عبدالله احمد سلام', '01112563487', 'شميلة حزيز', '733334805', '2025-07-02 14:55:19', '2025-07-02 14:55:19', 0),
(10, 'حمدي سلام احمد', '02135648975', 'حزيز حزيز حزيز', '733333333', '2025-07-02 14:58:49', '2025-07-02 14:58:49', 1005),
(12, 'هادييييييييي', '11111122556', 'شارع الوحدة', '744444444', '2025-07-02 15:17:52', '2025-07-02 15:17:52', 5),
(14, 'هادييييييييي', '88885525632', 'شارع الوحدة', '744444444', '2025-07-02 15:20:53', '2025-07-02 15:20:53', 5),
(15, 'هادييييييييي', '88558855632', 'شارع الوحدة', '744444444', '2025-07-02 15:24:57', '2025-07-02 15:24:57', 5),
(16, 'عبدالله احمد سلام', '11115525252', 'شميلة حزيز', '733334805', '2025-07-02 15:33:59', '2025-07-02 15:33:59', 5),
(18, 'عبدالله احمد سلام', '85285285296', 'شميلة حزيز', '733334805', '2025-07-02 15:45:24', '2025-07-02 15:45:24', 5),
(19, 'عبدالله احمد سلام', '12352364189', 'شميلة حزيز', '733334805', '2025-07-02 15:49:00', '2025-07-02 15:49:00', 5),
(20, 'حمدي سلام تا تصبحي', '12345678910', 'حزيز شارع الدكاترة', '770077889', '2025-07-02 17:53:50', '2025-07-02 17:53:50', 2000),
(21, 'عاصم رفيق القوسي', '11111111111', 'صنعاء حزيز', '770295519', '2025-07-02 18:23:50', '2025-07-02 18:23:50', 5),
(22, 'عبدالله احمد سلام', '85236974125', 'شميلة حزيز', '733334805', '2025-07-02 18:34:32', '2025-07-02 18:34:32', 72),
(23, 'عبدالله احمد احمد دغبس', '12365478962', 'جنب اكرم', '700011000', '2025-07-02 19:03:47', '2025-07-02 19:29:05', 86),
(24, 'عمر احمد دغبس', '12365478965', 'جنب اكرم بالحارة', '700000088', '2025-07-02 19:06:23', '2025-07-02 19:43:57', 86),
(25, 'دغبوس', '78965412300', 'حزيز', '770295519', '2025-07-02 19:08:18', '2025-07-02 19:08:18', 87),
(26, 'عبده احمد صالح', '15963214701', 'حزيز', '774411001', '2025-07-02 19:19:26', '2025-07-02 19:47:01', 666),
(27, 'مروان رفيق', '14785236900', 'شارع جمال', '779005216', '2025-07-02 20:20:45', '2025-07-02 20:20:45', 8005),
(28, 'هادييييييييي', '12546325856', 'شارع الوحدة', '744444444', '2025-07-02 20:37:20', '2025-07-02 20:37:20', 8005),
(29, 'عبدالله الرياشي', '10987654321', 'حزيز', '774700875', '2025-09-27 13:22:44', '2025-09-27 13:22:44', 200),
(30, 'محمود', '19876154321', 'صنعاء', '770295519', '2025-09-27 13:23:48', '2025-09-27 13:23:48', 200),
(40, 'محمود', '19876154328', 'صنعاء', '770295518', '2025-09-29 19:35:11', '2025-09-29 19:35:11', 20000);

-- --------------------------------------------------------

--
-- بنية الجدول `sessions`
--

CREATE TABLE IF NOT EXISTS `sessions` (
  `session_id` int(11) NOT NULL AUTO_INCREMENT,
  `case_id` int(11) NOT NULL,
  `session_date` date NOT NULL,
  `session_time` time DEFAULT NULL,
  `session_location` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `session_status` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT 'مجدولة',
  `notes` text COLLATE utf8mb4_unicode_ci,
  `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`session_id`),
  KEY `case_id` (`case_id`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci AUTO_INCREMENT=12 ;

--
-- إرجاع أو استيراد بيانات الجدول `sessions`
--

INSERT INTO `sessions` (`session_id`, `case_id`, `session_date`, `session_time`, `session_location`, `session_status`, `notes`, `created_at`, `updated_at`) VALUES
(1, 1, '2024-06-29', '09:00:00', 'قاعة المحكمة رقم 1', 'منعقدة', 'الجلسة الأولى للقضية', '2025-06-28 10:46:00', '2025-10-15 16:02:51'),
(2, 1, '2024-07-15', '10:30:00', 'قاعة المحكمة رقم 1', 'مجدولة', 'جلسة المرافعة', '2025-06-28 10:46:00', '2025-06-28 10:46:00'),
(3, 2, '2024-06-28', '14:00:00', 'قاعة المحكمة رقم 2', 'منعقدة', 'تم الاستماع للشهود', '2025-06-28 10:46:00', '2025-06-28 10:46:00'),
(4, 3, '2024-06-30', '11:00:00', 'قاعة المحكمة رقم 3', 'مجدولة', 'جلسة تحقيق', '2025-06-28 10:46:00', '2025-06-28 10:46:00'),
(5, 4, '2024-07-01', '13:30:00', 'قاعة المحكمة رقم 1', 'مجدولة', 'جلسة الصلح', '2025-06-28 10:46:00', '2025-06-28 10:46:00'),
(6, 5, '2024-06-28', '16:00:00', 'قاعة المحكمة رقم 2', 'مجدولة', 'جلسة أولى', '2025-06-28 10:46:00', '2025-06-28 10:46:00'),
(7, 66, '2025-06-28', '05:01:00', 'قاعة المحكمة', 'مجدولة', 'قضايا تجريبية', '2025-06-28 15:14:03', '2025-06-28 15:14:03'),
(8, 67, '2025-06-30', '21:26:00', 'قااااعة', 'مؤجلة', 'التاجيل للاطلاع وتقرير ما يلزم', '2025-06-28 17:34:01', '2025-10-15 17:27:01'),
(9, 67, '2025-06-30', '21:39:00', 'قاعة 2', 'مؤجلة', 'للاطلاع وتقرير ما يلزم', '2025-06-28 17:34:30', '2025-10-15 17:39:46'),
(10, 66, '2025-10-11', '12:26:00', '4', 'منعقدة', 'مشنشنسمئن', '2025-09-29 19:08:42', '2025-10-20 16:17:27'),
(11, 87, '2025-10-15', '21:03:00', '2', 'منعقدة', 'nj.mh206', '2025-10-15 18:03:14', '2025-10-19 19:15:52');

--
-- قيود الجداول المحفوظة
--

--
-- القيود للجدول `case_litigants`
--
ALTER TABLE `case_litigants`
  ADD CONSTRAINT `case_litigants_ibfk_1` FOREIGN KEY (`case_id`) REFERENCES `cases` (`case_id`) ON DELETE CASCADE,
  ADD CONSTRAINT `case_litigants_ibfk_2` FOREIGN KEY (`litigant_id`) REFERENCES `litigants` (`litigant_id`) ON DELETE CASCADE;

--
-- القيود للجدول `sessions`
--
ALTER TABLE `sessions`
  ADD CONSTRAINT `sessions_ibfk_1` FOREIGN KEY (`case_id`) REFERENCES `cases` (`case_id`) ON DELETE CASCADE;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
